{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %} VulnByte {% endblock %}</title>
    <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
    <!-- <link rel="stylesheet" href="{% static 'css/style.css' %}"> -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f1f5f9;
        }
        .card {
            transition: transform 0.6s ease-in-out, box-shadow 0.6s ease-in-out;
            will-change: transform;
            text-rendering: geometricPrecision;
        }
        .card:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
        }
        .bg-dark .card {
            background-color: #343a40 !important;
            color: #f8f9fa !important;
        }
        .bg-dark .card-title {
            color: #f8f9fa !important;
        }
        .text-center i {
            transition: transform 0.3s ease;
        }
        .text-center i:hover {
            transform: scale(0.9);
        }
        .navbar .nav-item form {
            margin-top: -25px; 
            position: relative;
            left: -1550px; 
        }
        .submit-btn {
            display: block;
            margin-left: auto;
            margin-right: auto;
            width: 30%; 
            background: linear-gradient(45deg, #6a5acd, #4b0082);
            border: none;
            color: white;
            padding: 10px 20px;
            font-size: 16px;
            border-radius: 50px;
            cursor: pointer;
            transition: background 0.3s ease;
        }
        .submit-btn:hover {
            background: linear-gradient(45deg, #4b0082, #6a5acd);
        }
        .custom-navbar {
            background-color: #f1f5f9;
            color: #000;
            
        }
        .custom-footer {
            background-color: #f1f5f9;
            color: white;
            padding: 20px 0;
            color: #000;
        }
        .bg-dark .custom-navbar, .bg-dark .custom-footer {
            background-color: #212529 !important;
            color: #f8f9fa !important;
        }
        .navbar-brand {
            color: #6a5acd !important;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.6);
            font-weight: 900;
            font-size: 5rem;
            transition: text-shadow 0.3s ease-in-out;
            margin-left: -5px;
        }
        .navbar-brand:hover {
            text-shadow: 4px 4px 8px rgba(0, 0, 0, 0.8);
        }
        .signout-btn-container {
            position: absolute;
            right: -1475px;
            top: 60px;
        }
        .signout-btn {
            display: inline-block;
            background: linear-gradient(45deg, #6a5acd, #4b0082);
            border: none;
            color: white;
            padding: 10px 20px;
            font-size: 16px;
            border-radius: 50px;
            cursor: pointer;
            transition: background 0.3s ease;
        }
        .signout-btn:hover {
            background: linear-gradient(45deg, #4b0082, #6a5acd);
        }
        /* Style the radio button container */
        .mb-3 {
            margin-bottom: 1.5rem;
        }
        /* Custom Radio Button */
        .form-check-input {
            appearance: none;
            -webkit-appearance: none;
            border: 2px solid #6a5acd;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            background: linear-gradient(45deg, #6a5acd, #4b0082);
            position: relative;
            cursor: pointer;
            transition: background 0.3s ease, border-color 0.3s ease;
        }
        /* Style the radio button when checked */
        .form-check-input:checked {
            background: linear-gradient(45deg, #4b0082, #6a5acd);
            border-color: #4b0082;
        }
        /* Create the inner circle for the selected state */
        .form-check-input:checked::before {
            content: '';
            position: absolute;
            top: 5px;
            left: 5px;
            width: 10px;
            height: 10px;
            background-color: #fff;
            border-radius: 50%;
        }
        /* Add hover effect to the radio buttons */
        .form-check-input:hover {
            background: linear-gradient(45deg, #5d2585, #6a5acd);
        }
        .text-center i {
            background: linear-gradient(45deg, #333, #6d6c6c, #b4b4b4); /* Black to grey to white gradient */
            -webkit-background-clip: text; /* Ensures the gradient applies to the text */
            background-clip: text;
            color: transparent; /* Makes the icon color transparent to show the gradient */
            transition: transform 0.3s ease, background 0.3s ease;
            padding: 10px;
            border-radius: 10px; 
        }
        
        #theme-toggle {
            color: transparent; /* Make the icon color transparent */
            border: 1px solid black;
            border-radius: 50%;
            padding: 10px;
            background-image: linear-gradient(45deg, #6a5acd, #4b0082); /* Gradient background */
            display: inline-block; /* Make it an inline block */
            width: 40px; /* Width of the button */
            height: 40px; /* Height of the button */
            text-align: center; /* Center the icon */
            line-height: 30px; /* Vertically center the icon */
            transition: background-image 0.3s ease; /* Smooth transition for the gradient */
            position: absolute; /* Position it absolutely */
            left: 80px; /* Adjust the distance from the left */
        }
        #theme-toggle i {
            font-size: 25px; /* Icon size */
            background-clip: text; /* Clip the background to the text (icon) */
            -webkit-background-clip: text; /* For Safari support */
            color: black; /* Make icon color transparent */
            transition: background-image 0.3s ease; /* Smooth transition for the gradient */
        }
        
        #theme-toggle:hover {
            background-image: linear-gradient(45deg, #4b0082, #6a5acd); /* Reverse gradient on hover */
        }
        
        #theme-toggle:hover i {
            background-image: linear-gradient(45deg, #4b0082, #6a5acd); /* Apply gradient on hover to icon */
            
        }
        .history-list th, .history-list td {
            background-color: #fff; /* Light background for table cells */
            color: #000; /* Black text for table cells in light mode */
        }

        body.bg-dark .history-list th, body.bg-dark .history-list td {
            background-color: #343A40; /* Dark background for table cells in dark mode */
            color: #f8f9fa; /* White text for table cells in dark mode */
        }

        /* Prevent card from zooming in or any hover effects */
        .history-list {
            transform: none !important; /* Remove zoom/transform effects */
        }

        .history-list .card-header {
            background-image: linear-gradient(45deg, #5b5a5e, #0e0118); /* Apply gradient to the card header */
            color: white; /* Ensure text color is white for better contrast */
        }
    
        .history-list .btn {
            background-image: linear-gradient(45deg, #6a5acd, #4b0082);
            color: white;
            border: none; /* Remove any default border */
            padding: 5px 10px; /* Adjust padding for better appearance */
            border-radius: 5px; /* Rounded corners for the button */
            transition: background-image 0.3s ease; /* Smooth gradient transition */
        }
        /* Default table color (light mode) for host-table */
        .host-table th, .host-table td {
            background-color: #fff; /* Light background for table cells */
            color: #000; /* Black text for table cells in light mode */
        }

        /* Dark mode adjustments for host-table */
        body.bg-dark .host-table th, body.bg-dark .host-table td {
            background-color: #343A40; /* Dark background for table cells in dark mode */
            color: #f8f9fa; /* White text for table cells in dark mode */
        }

        /* Prevent card from zooming in or any hover effects */
        .host-table {
            transform: none !important; /* Remove zoom/transform effects */
            border-radius: 10px; /* Apply rounded corners to the table */
            overflow: hidden; /* Ensure content inside table respects rounded corners */
        }

        /* Apply gradient to the card header */
        .card-header {
            padding: 10px;
            background-image: linear-gradient(45deg, #5b5a5e, #0e0118); /* Gradient for dark mode */
            color: white; /* Text color is white for better contrast */
        }
    </style>
    {% block head %}
    {% endblock %}
</head>

<body class="d-flex flex-column min-vh-100">
    <nav class="navbar navbar-expand-lg custom-navbar">
        <div class="container-fluid">
            <div class="d-flex justify-content-center w-100">
                <a class="navbar-brand" href="#">VulnByte</a>
            </div>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav"></div>
            <li class="nav-item text-nowrap signout-btn-container">
                <form action="{% url 'logout' %}" method="POST">
                    {% csrf_token %}
                    <input class="text text-capitalize btn signout-btn" type="submit" value="Sign out" />
                </form>
            </li>            
            <button id="theme-toggle" class="btn btn-outline-light">
                <i class="fas fa-moon"></i>
            </button>
        </div>
    </nav>

    <main class="container mt-4 flex-grow-1">
        {% block content %}
        {% endblock %}
    </main>

    <footer class="custom-footer text-center py-4 mt-auto">
        <div class="container-fluid">
            <p>&copy; 2024 VulnByte. All rights reserved.</p>
        </div>
    </footer>

    <!-- <script src="{% static 'js/bootstrap.bundle.min.js' %}"></script> -->

    <script>
        const themeToggleBtn = document.getElementById('theme-toggle');
        const body = document.body;
        const navbar = document.querySelector('.navbar');
        const footer = document.querySelector('footer');
        const cards = document.querySelectorAll('.card');
        const moonIcon = themeToggleBtn.querySelector('i'); // Get the moon icon

        themeToggleBtn.addEventListener('click', () => {
            body.classList.toggle('bg-dark');
            body.classList.toggle('text-white');
            body.classList.toggle('bg-light');

            const isDarkMode = body.classList.contains('bg-dark');

            if (isDarkMode) {
                navbar.style.backgroundColor = '#343a40';
                navbar.style.color = '#f8f9fa';
                moonIcon.style.color = '#f8f9fa'; // Set moon icon color to light in dark mode
            } else {
                navbar.style.backgroundColor = '#f1f5f9';
                navbar.style.color = '#000';
                moonIcon.style.color = '#000'; // Set moon icon color to dark in light mode
            }

            if (isDarkMode) {
                footer.style.backgroundColor = '#343a40';
                footer.style.color = '#f8f9fa';
            } else {
                footer.style.backgroundColor = '#f1f5f9';
                footer.style.color = '#000';
            }

            cards.forEach(card => {
                if (isDarkMode) {
                    card.style.backgroundColor = '#343a40';
                    card.style.color = '#f8f9fa';
                } else {
                    card.style.backgroundColor = '#fff';
                    card.style.color = '#000';
                }
            });
        });
    </script>

    {% block footer %}
    {% endblock %}
</body>
</html>
